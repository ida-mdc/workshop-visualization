<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Rendering meshes in VTK</title>
<link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Urbanist:wght@300;400;500;700&display=swap"><link rel=stylesheet href=/workshop-visualization/css/main.css><link rel=stylesheet href=/workshop-visualization/reveal/plugin/highlight/monokai.css><script>function toggleMetadata(e){const t=document.getElementById("metadata-"+e),n=event.target;t.style.display==="none"||t.style.display===""?t.style.display="flex":t.style.display="none"}</script><script>document.addEventListener("DOMContentLoaded",function(){const t=new URLSearchParams(window.location.search),n=t.get("view"),e=document.getElementById("page-content");if(n==="slides"){e.classList.add("reveal"),e.classList.remove("scroll");const n=e=>{const t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)},t=(e,t)=>{const n=document.createElement("script");n.src=e,n.onload=t||function(){},document.body.appendChild(n)};n("/workshop-visualization/reveal/dist/reveal.css"),n("/workshop-visualization/reveal/dist/theme/white-hi.css"),n("/workshop-visualization/reveal/plugin/highlight/monokai.css"),t("/workshop-visualization/reveal/dist/reveal.js",function(){console.log("Reveal.js loaded"),t("/workshop-visualization/reveal/plugin/markdown/markdown.js",function(){t("/workshop-visualization/reveal/plugin/highlight/highlight.js",function(){t("/workshop-visualization/reveal/plugin/notes/notes.js",function(){console.log("All Reveal.js plugins loaded and ready to initialize."),typeof Reveal!="undefined"?Reveal.initialize({hash:!0,slideNumber:!0,center:!1,disableLayout:!0,transition:"fade",display:"flex",plugins:[RevealMarkdown,RevealNotes]}):console.error("Reveal.js is not defined, initialization failed.")})})})})}else e.classList.remove("reveal"),e.classList.add("scroll")})</script><script src=/workshop-visualization/js/jquery.min.js></script><script type=text/javascript src=/workshop-visualization/js/jquery.qrcode.js></script><script type=text/javascript src=/workshop-visualization/js/qrcode.js></script></head><body><div class=workshop id=page-content><div class=reveal-header><a href="?view=slides" class="toggle-view hidden-in-slides">View as Slides</a><div class=hi-icon></div></div><div class="slides limited-width" id=slides-container><section style=background-image:url(/workshop-visualization/img/vtk-meshes.png)><div class=presentation-title><h1>Rendering meshes in VTK</h1><div class=presenter><div>Deborah Schmidt</div><div>Helmholtz Imaging | MDC Berlin</div><div>Sep 9, 2024</div></div><img class=hidden-in-page src=/workshop-visualization/img/RZ_211119_Helmholtz-Imaging_Logo_4C_White.png height=90vh><aside class=notes>Learn how to render 3D meshes in VTK and get insights into the Python code behind it.</aside></div></section><section><nav class=toc><h2>Table of Contents</h2><ul><li><a href=#section-0>Introduction</a></li><li><a href=#section-1>Solution to run VTK code</a></li><li><a href=#section-2>Dependencies</a></li><li><a href=#section-3>Setting the scene</a></li><li><a href=#section-4>Loading and Adding Meshes</a></li><li><a href=#section-5>Loading and Adding Voxel Volumes</a></li><li><a href=#section-8>Creating the Render Window</a></li><li><a href=#section-9>Result</a></li></ul></nav><div class=qr-code-slides><div id=qr-slides class=qr-code></div><script>jQuery("#qr-slides").qrcode({text:"https://ida-mdc.github.io/workshop-visualization/tutorial-mesh-rendering-vtk/"})</script><span>Slides available at <a href=https://ida-mdc.github.io/workshop-visualization/tutorial-mesh-rendering-vtk/>https://ida-mdc.github.io/workshop-visualization/tutorial-mesh-rendering-vtk/</a></span></div></section><section id=section-0><h2 id=introduction>Introduction</h2><aside class=notes><strong>VTK</strong> is a powerful toolkit for rendering 3D meshes, and this tutorial focuses on using the provided solution for rendering scientific 3D datasets. We will explore not just how to run the solution, but also how the underlying Python code works, step by step. You will learn the foundational concepts of VTK while also understanding how to extend the code for your own datasets.</aside><div class=flex></div><div class=horizontal><ul><li>Python based 3D visualization tool</li><li>Supports various formats (STL, OBJ, PLY, ..)</li><li>Advanced rendering capabilities (volume rendering, surface rendering, light and material configuration)</li><li>Supports programmatic animations</li></ul><figure><img src=https://ida-mdc.github.io/workshop-visualization/img/vtk-rendering-slicing.png></figure></div><div class=flex></div><div style=flex:1></div><div class=citations><ul><li><a href=http://en.wikipedia.org/wiki/Special:BookSources/978-1-930934-19-1>Schroeder, Will; Martin, Ken; Lorensen, Bill (2006), The Visualization Toolkit (4th ed.), Kitware, ISBN 978-1-930934-19-1</a>, <a href=https://vtk.org/>https://vtk.org/</a></li></ul></div></section><section id=section-1><h2 id=solution-to-run-vtk-code>Solution to run VTK code</h2><aside class=notes>This tutorial will guide you through using Album&rsquo;s <strong>visualize-meshes-vtk</strong> solution, showcasing how you can interact with 3D meshes and volume data using VTK, all while running it in an isolated environment.</aside><div class=solution-in-tutorial><p>To simplify and unify solutions used in our tutorials, we use Album, a tool for capturing and sharing specific software use cases in dedicated virtual environments.<br><br>Click the solution box next to this text and follow the displayed usage instructions to run the solution either from command line or graphical interface.</p><p>No catalogs found in .Site.Data.catalogs.</p></div></section><section id=section-2><h2 id=dependencies>Dependencies</h2><aside class=notes>This is the full specification of the virtual environment used for this solution, including the VTK dependency.</aside><div class=solution-code-link></div></section><section id=section-3><h2 id=setting-the-scene>Setting the scene</h2><aside class=notes>Let&rsquo;s dive into the code. The <strong>renderer</strong> in VTK is responsible for managing the objects and actors in the scene
and handling how the data will be visualized. The renderer adds objects to the scene, processes lighting, and manages the camera view, ultimately controlling what appears in the rendered image.</aside><ul><li><strong>The renderer</strong>: Manages the <strong>3D scene</strong> by adding objects (called actors), processing lighting, and handling the camera to control how the scene is displayed.</li><li><strong>Central component in VTK</strong>: The renderer is responsible for <strong>compositing all elements</strong> (meshes, volumes, etc.) and rendering them into a final image or interactive display.</li></ul><div class=solution-code-link></div></section><section id=section-4><h2 id=loading-and-adding-meshes>Loading and Adding Meshes</h2><aside class=notes>Next, let&rsquo;s look at the Python code responsible for <strong>loading STL meshes</strong>. The solution reads multiple mesh files
from a specified folder and adds them as actors to the scene.</aside><ul><li><strong>Load STL files</strong> via <code>vtkSTLReader</code></li><li><strong>Coloring Meshes</strong> via <code>actor.GetProperty().SetColor()</code></li></ul><div class=solution-code-link></div></section><section id=section-5><h2 id=loading-and-adding-voxel-volumes>Loading and Adding Voxel Volumes</h2><h3 id=numpy-to-vtk-conversion>Numpy to VTK Conversion</h3><aside class=notes>In this section, we convert volumetric data (such as TIFF files) into a format that VTK can render. This is done by transforming <strong>NumPy arrays</strong> into VTK-compatible data structures.</aside><div class=solution-code-link></div></section><section id=section-6 class=repeated-heading><h2 id=loading-and-adding-voxel-volumes-1>Loading and Adding Voxel Volumes</h2><h3 id=color-and-opacity-transfer-functions>Color and Opacity Transfer Functions</h3><aside class=notes>This section handles the application of <strong>color and opacity</strong> transfer functions, which define how the volume is rendered based on the underlying voxel values. These functions control how data values are mapped to specific colors and levels of transparency.</aside><div class=solution-code-link></div></section><section id=section-7 class=repeated-heading><h2 id=loading-and-adding-voxel-volumes-2>Loading and Adding Voxel Volumes</h2><h3 id=creating-a-volume-node>Creating a Volume Node</h3><aside class=notes>Once the volumetric data has been prepared and the transfer functions defined, a <strong>volume node</strong> is created to represent the volumetric data in the 3D scene. This is what gets rendered by VTK&rsquo;s pipeline.</aside><div class=solution-code-link></div></section><section id=section-8><h2 id=creating-the-render-window>Creating the Render Window</h2><aside class=notes>The <strong>render window</strong> is where the final rendering of the meshes and volumes occurs. It controls how the scene is displayed, and can output either to the screen for interactive visualization or to a video file for post-processing.</aside><ul><li><strong>Render Window</strong>: Manages the actual window where the scene is displayed.</li><li><strong>RenderWindowInteractor</strong>: Allows for interactive control of the 3D scene using mouse and keyboard inputs.</li></ul><div class=solution-code-link></div></section><section id=section-9><h2 id=result>Result</h2><aside class=notes>In this tutorial, we explored how to render 3D meshes and voxel volumes in VTK, step by step. VTK offers a wide range of features for visualizing scientific data in 3D, from applying advanced material properties to handling complex volumetric datasets. As you continue working with VTK, explore its many additional features, including streamlines for flow visualization, annotations, and 3D text labels for enhancing your visualizations.</aside><div class=center><figure><img src=https://ida-mdc.github.io/workshop-visualization/img/vtk-mesh-volume.png alt="Meshes and volume in one view." width=800px><figcaption><p>Meshes and volume in one view.</p></figcaption></figure></div><div style=flex:1></div><div class=citations><ul><li><a href=https://vtk.org/documentation/>VTK Documentation</a></li><li><a href=https://examples.vtk.org/site/Python>VTK Python Examples and Tutorials</a></li><li><a href=https://album.solutions>Album Framework</a></li></ul></div></section></div><div class=reveal-footer><span>2024</span> | <span><b>HELMHOLTZ IMAGING</b></span><span><span><a class=hidden-in-page href="?view=scroll"><strong>Exit slides</strong></a></span></span></div></div></body></html>