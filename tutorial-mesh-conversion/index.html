<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Converting Volumes to Meshes with VTK</title>
<link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Urbanist:wght@300;400;500;700&display=swap"><link rel=stylesheet href=/workshop-visualization/css/main.css><link rel=stylesheet href=/workshop-visualization/reveal/plugin/highlight/monokai.css><script>function toggleMetadata(e){const t=document.getElementById("metadata-"+e),n=event.target;t.style.display==="none"||t.style.display===""?t.style.display="flex":t.style.display="none"}</script><script>document.addEventListener("DOMContentLoaded",function(){const t=new URLSearchParams(window.location.search),n=t.get("view"),e=document.getElementById("page-content");if(n==="slides"){e.classList.add("reveal"),e.classList.remove("scroll");const n=e=>{const t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)},t=(e,t)=>{const n=document.createElement("script");n.src=e,n.onload=t||function(){},document.body.appendChild(n)};n("/workshop-visualization/reveal/dist/reveal.css"),n("/workshop-visualization/reveal/dist/theme/white-hi.css"),n("/workshop-visualization/reveal/plugin/highlight/monokai.css"),t("/workshop-visualization/reveal/dist/reveal.js",function(){console.log("Reveal.js loaded"),t("/workshop-visualization/reveal/plugin/markdown/markdown.js",function(){t("/workshop-visualization/reveal/plugin/highlight/highlight.js",function(){t("/workshop-visualization/reveal/plugin/notes/notes.js",function(){console.log("All Reveal.js plugins loaded and ready to initialize."),typeof Reveal!="undefined"?Reveal.initialize({hash:!0,slideNumber:!0,center:!1,disableLayout:!0,transition:"fade",display:"flex",plugins:[RevealMarkdown,RevealNotes]}):console.error("Reveal.js is not defined, initialization failed.")})})})})}else e.classList.remove("reveal"),e.classList.add("scroll")})</script><script src=/workshop-visualization/js/jquery.min.js></script><script type=text/javascript src=/workshop-visualization/js/jquery.qrcode.js></script><script type=text/javascript src=/workshop-visualization/js/qrcode.js></script></head><body><div class=workshop id=page-content><div class=reveal-header><a href="?view=slides" class="toggle-view hidden-in-slides">View as Slides</a><div class=hi-icon></div></div><div class="slides limited-width" id=slides-container><section style=background-image:url(/workshop-visualization/img/vtk-rendering.png)><div class=presentation-title><h1>Converting Volumes to Meshes with VTK</h1><div class=presenter><div>Deborah Schmidt</div><div>Helmholtz Imaging | MDC Berlin</div><div>Sep 9, 2024</div></div><img class=hidden-in-page src=/workshop-visualization/img/RZ_211119_Helmholtz-Imaging_Logo_4C_White.png height=90vh><aside class=notes>This tutorial will guide you through converting 3D pixel datasets, such as labelmaps and masks, into 3D meshes using VTK.</aside></div></section><section><nav class=toc><h2>Table of Contents</h2><ul><li><a href=#section-0>Introduction</a></li><li><a href=#section-1>Solution to run conversion code automatically</a></li><li><a href=#section-2>Dependencies</a></li><li><a href=#section-3>Volume conversion using vtkFlyingEdges3D</a></li><li><a href=#section-4>Smoothing</a></li><li><a href=#section-5>Decimate geometry</a></li><li><a href=#section-6>Write STL file</a></li></ul></nav><div class=qr-code-slides><div id=qr-slides class=qr-code></div><script>jQuery("#qr-slides").qrcode({text:"https://ida-mdc.github.io/workshop-visualization/tutorial-mesh-conversion/"})</script><span>Slides available at <a href=https://ida-mdc.github.io/workshop-visualization/tutorial-mesh-conversion/>https://ida-mdc.github.io/workshop-visualization/tutorial-mesh-conversion/</a></span></div></section><section id=section-0><h2 id=introduction>Introduction</h2><aside class=notes>In this tutorial, we will use <strong>VTK</strong> to convert 3D volumetric datasets (e.g., labelmaps, masks, and raw data) into 3D meshes. This process is particularly useful for creating surfaces that can be used in 3D visualizations, simulations, or exported to Blender for further processing. You will also learn how to optimize these meshes by decimating and smoothing them.</aside><ul><li><strong>VTK</strong> provides robust tools for generating meshes from volumes, including labelmaps and raw pixel data.</li><li><strong>FlyingEdges3D</strong> is a highly efficient algorithm for generating iso-surfaces from volumetric data.</li><li>VTK supports advanced options for mesh optimization, including <strong>smoothing</strong> and <strong>decimation</strong>.</li></ul><div style=flex:1></div><div class=citations><ul><li><a href=http://en.wikipedia.org/wiki/Special:BookSources/978-1-930934-19-1>Schroeder, Will; Martin, Ken; Lorensen, Bill (2006), The Visualization Toolkit (4th ed.), Kitware, ISBN 978-1-930934-19-1</a>, <a href=https://vtk.org/>https://vtk.org/</a></li></ul></div></section><section id=section-1><h2 id=solution-to-run-conversion-code-automatically>Solution to run conversion code automatically</h2><aside class=notes>This tutorial will guide you through using a Python based solution for volume to mesh conversion. We will look
into the details of the code in the following slides.</aside><div class=solution-in-tutorial><p>To simplify and unify solutions used in our tutorials, we use Album, a tool for capturing and sharing specific software use cases in dedicated virtual environments.<br><br>Click the solution box next to this text and follow the displayed usage instructions to run the solution either from command line or graphical interface.</p><p>No catalogs found in .Site.Data.catalogs.</p></div></section><section id=section-2><h2 id=dependencies>Dependencies</h2><aside class=notes>This is the full specification of the virtual environment used for this solution, including the VTK dependency.</aside><div class=solution-code-link></div></section><section id=section-3><h2 id=volume-conversion-using-vtkflyingedges3d>Volume conversion using vtkFlyingEdges3D</h2><aside class=notes>We start by converting <strong>TIFF files</strong> into meshes. Labelmaps, which contain multiple labels (e.g., for different tissue types), can be converted into separate meshes for each label. Masks, which are binary, will generate a single mesh along the contour where the dataset values cross a defined threshold.</aside><ul><li>Add zero border around dataset</li><li>Load volumetric image using <code>vtkImageData</code></li><li>Generate meshes using <code>vtkFlyingEdges3D</code> algorithm</li><li>Set threshold between foreground and background via <code>GenerateValues (int numContours, double rangeStart, double rangeEnd)</code></li></ul><div class=solution-code-link></div><div style=flex:1></div><div class=citations><ul><li><a href=https://vtk.org/doc/nightly/html/classvtkFlyingEdges3D.html#details>VTK Documentation: vtkFlyingEdges3D</a></li></ul></div></section><section id=section-4><h2 id=smoothing>Smoothing</h2><aside class=notes>In some cases, the original mesh might be too complex or too detailed for efficient rendering or further processing.
Smoothing makes the surface appear less jagged.</aside><ul><li><strong>Number of iterations</strong>: Controls how many smoothing passes are applied.</li><li><strong>Feature Edge Smoothing</strong>: Ensures that important edges are preserved while smoothing.</li><li><strong>Boundary Smoothing</strong>: Smooths out the mesh along the boundaries.</li></ul><div class=solution-code-link></div><figure><img src=https://ida-mdc.github.io/workshop-visualization/img/vtk-smoothing.png></figure><div style=flex:1></div><div class=citations><ul><li><a href=https://vtk.org/doc/nightly/html/classvtkWindowedSincPolyDataFilter.html#details>VTK Documentation: vtkWindowedSincPolyDataFilter</a></li></ul></div></section><section id=section-5><h2 id=decimate-geometry>Decimate geometry</h2><aside class=notes>In some cases, the original mesh might be too complex or too detailed for efficient rendering or further processing.
Here, we will optimize the meshes by <strong>decimating</strong> them. Decimation reduces the number of polygons in the mesh.</aside><ul><li><strong>Target Reduction</strong>: Defines the percentage reduction in the number of polygons (e.g., 0.5 for 50% reduction).</li><li><strong>Preserve Topology</strong>: Ensures that the overall shape and connectivity of the mesh are maintained during decimation.</li></ul><div class=solution-code-link></div><figure><img src=https://ida-mdc.github.io/workshop-visualization/img/vtk-mesh-reduction.png></figure><div style=flex:1></div><div class=citations><ul><li><a href=https://vtk.org/doc/nightly/html/classvtkDecimatePro.html#details>VTK Documentation: vtkDecimatePro</a></li></ul></div></section><section id=section-6><h2 id=write-stl-file>Write STL file</h2><p>The final step in this process is to write the generated mesh to an STL file. STL files are widely used for 3D printing, simulations, and visualizations in tools like Blender.</p><div class=solution-code-link></div></section></div><div class=reveal-footer><span>2024</span> | <span><b>HELMHOLTZ IMAGING</b></span><span><span><a class=hidden-in-page href="?view=scroll"><strong>Exit slides</strong></a></span></span></div></div></body></html>